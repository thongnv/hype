<section>
    <div class="home-page">
        <div class="col-lg-6 col-xs-12 left-box">
            <div class="type-events">
                <ul [class.show-all]="!showAll" (window:resize)="onResize($event)">
                    <li class="type-event-item" [class.active]="'all'==selected" (click)="onSelectEventType('all')">
                        <img src="../../assets/img/icons/All.png" width="30" height="30">
                        <span class="type-event-name text-capitalize">All</span>
                    </li>
                    <li *ngFor="let event of categories, let index = index" (click)="onSelectEventType(event)"
                        [class.active]="event.tid==selected" class="type-event-item">
                        <img [src]="event.icon" width="30" height="30">
                        <span class="type-event-name text-capitalize">{{event.name}}</span>
                    </li>
                    <li *ngIf="drawCategories?.length >= 6" class="type-event-more" (click)="showAllCategory(showAll)">
                        <b></b><b></b><b></b>
                    </li>
                </ul>
            </div>
            <div class="filter-events clearfix" [class.top-100]="selectedEventOrder.name == 'top 100'">
                <div class="btn-group tab-control" *ngIf="selectedEventOrder.name != 'top 100'">
                    <button *ngFor="let filter of eventFilter" (click)="onSelectEventFilter(filter)" type="button"
                            class="btn btn-default tab-control text-capitalize" [class.active]="filter===selectedEventFilter">
                        {{filter.name}}
                    </button>
                </div>
                <div class="btn-group tab-control" id="filters">
                    <button *ngFor="let order of eventOrder" (click)="onSelectEventOrder(order)" type="button"
                            class="btn btn-default  text-capitalize" [class.active]="order===selectedEventOrder">
                        {{order.name}}
                    </button>
                </div>
                <div class="clear"></div>
                <div *ngIf="selectedEventOrder.name!='top 100'">
                    <a (click)="showRagePrice()" class="price-range">price range <i class="fa fa-angle-down"
                                                                                    aria-hidden="true"></i></a>
                    <a (click)="showWhen()" class="when-button">when <i class="fa fa-angle-down" aria-hidden="true"></i></a>
                    <a (click)="onClearForm()" class="clear-filters-button">clear filters</a>
                    <div class="clearfix"></div>
                    <nouislider *ngIf="showPrice" [connect]="true" [min]="0" [max]="300" [step]="10" [tooltips]="[true,true]"
                                [(ngModel)]="priceRange"
                                (ngModelChange)="onChangePrice($event)"
                               class="price-slider">
                    </nouislider>
                    <div *ngIf="showPrice" class="price-desc"><span>$0</span><span>$150</span><span>$300</span></div>
                    <input *ngIf="showDate" style="margin-top: 1em; margin-bottom: 1em" class="form-control"
                           [options]="options" daterangepicker
                           (selected)="selectedDate($event)">
                </div>
            </div>
            <app-boostrap-alert *ngIf="msgContent" [type]="alertType" [content]="msgContent"></app-boostrap-alert>
            <div class="clear"></div>
            <div id="v-scrollable" class="scrollable section"
                 ng2-scrollable (elementVisible)="scrollEvent($event)" (scroll)="onScroll($event)"
            >
                <app-event-item
                        [events]="events" (onClickLike)="onClickLike($event)"></app-event-item>
                <app-small-loader></app-small-loader>
            </div>
        </div>

        <div class="col-lg-6 col-xs-12 right-box map-right fixed-right hidden-xs hidden-sm">
            <sebm-google-map *ngIf="showMap"
                             [latitude]="lat"
                             [longitude]="lng"
                             [zoom]="mapZoom"
                             [disableDefaultUI]="false"
                             [zoomControl]="false"
                             [streetViewControl]="true"
                             (mapClick)="mapClicked($event,index)"
                             [styles] = "gMapStyles"
            >
                <gmap-geocode-marker [showCircle]="showCircle"[circleDraggable]="circleDraggable" [markers]="markers" [currentRadius]="currentRadius"
                                     (radiusChange)="markerRadiusChange($event)" [lat]="lat"
                                     (markerClick)="clickedMarker($event)"
                                     (dragEnd)="markerDragEnd($event)"
                                     [lng]="lng"></gmap-geocode-marker>

            </sebm-google-map>
        </div>
    </div>

</section>
