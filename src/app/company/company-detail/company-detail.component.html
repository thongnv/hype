<article class="container">
  <div class="">
    <div class="content col-md-6">
      <!-- wrap xx start -->
      <div class="wrap-xx" [@slideInOutAnimation]="companyStatus">
        <!-- company wrap start -->
        <div class="company-wrap">
          <!-- carousel start -->
          <div class="carousel">
            <carousel [interval]="NextPhotoInterval" [noWrap]="noLoopSlides" [noTransition]="noTransition"
                      [noThumbnail]="true" [carouselSlides]="slides">
              <slide *ngFor="let slide of slides; let index=index" [active]="slide.active"
                     [ngStyle]="{'background-image': 'url(' + slide.image + ')', 'height': '400px', 'background-size': 'cover'}">
              </slide>
              <i class="icon-sm" [class.icon-heart]="!bookmarked"
                 [class.icon-heart-selected]="bookmarked" (click)="toggleBookmark()" aria-hidden="true"></i>
            </carousel>
          </div>
          <!-- carousel end -->
          <!-- company header start -->
          <div class="company-header">
            <h3>{{name}}</h3>
            <div class="rating-star">
              <i *ngFor="let i of rating | myArray" fa [name]="'star'" [size]=1></i>
              <i *ngFor="let i of 5 - rating | myArray" fa [name]="'star-o'" [size]=1></i>
            </div>
            <div class="google-plus-point">
              <div class="rating-number">
                {{rating}}/5
              </div>
              <div class="google-plus-dropdown-button">
                <a>
                  <i class="fa fa-google-plus" aria-hidden="true"></i>
                  <i class="fa fa-angle-down" aria-hidden="true"></i>
                </a>
              </div>
            </div>
            <p class="open-now-button">
              Open Now
            </p>
            <div class="company-description-wrap">
              <div *ngIf="descTruncated">
                <div class="company-description" [innerHTML]="description | truncate:200"></div>
                <div class="read-more" (click)="showMore()"><i class="fa fa-angle-down" title="Show more"></i></div>
              </div>
              <div *ngIf="!descTruncated">
                <div class="company-description">{{description}}</div>
                <div class="read-more" (click)="showLess()"><i class="fa fa-angle-up" title="Show less"></i></div>
              </div>
            </div>
          </div>
          <!-- company header end -->
          <!-- company info start -->
          <div class="company-info" *ngIf="mapReady">
            <p><span class="info-label">Location</span> {{location.name}}</p>
            <p><span class="info-label">Website</span>
              <a [href]="website" target="_blank" title="Go to company's website">{{website}}</a>
            </p>
            <p><span class="info-label">Phone No.</span> <a href="tel:{{phone}}" title="Call now">{{phone}}</a></p>
            <p>
              <span class="info-label">Opening Hours</span>
              <span class="info-value" ngbDropdown>
                <span ngbDropdownToggle>
                  <span [innerHTML]="openingHours[0]"></span>
                  <i aria-hidden="true" class="fa fa-angle-down"></i>
                </span>
                <span class="dropdown-menu">
                  <a class="dropdown-item" aria-expanded="false" *ngFor="let hours of openingHours">
                    {{hours}}
                  </a>
                </span>
              </span>
            </p>

          </div>
          <!-- company info end -->
        </div>
        <!-- company wrap end -->
        <!-- reviews wrap start -->
        <div class="reviews-wrap">
          <div class="experience-top">
            <h4 class="title-experiences-area">Latest Reviews</h4>
            <a (click)="showReviewModal()" class="post-your-experience">Write a review</a>
          </div>
          <div *ngIf="reviews">
            <company-review *ngFor="let review of reviews.slice(0, 2); let index = index" [review]="review">
            </company-review>
          </div>
          <!-- reviews wrap end -->
        </div>
        <!-- wrap xx end -->
        <div class="view-all-reviews-button" *ngIf="reviews.length > 2">
          <a class="view-all" (click)="viewReviews()">
            View All Reviews ({{reviews.length}})
          </a>
        </div>
      </div>

      <div class="all-reviews-wrap" [@slideInOutAnimation]="commentPosition">
        <div class="experience-top">
          <a (click)="goBack()" class="left-arrow">
            <img src="/assets/img/event/detail/icon-left.png" alt="icon-left">
          </a>
          <h4 class="title-experiences-reviews-area">Latest Reviews</h4>
          <a (click)="showReviewModal()" class="post-your-experience">Write a review</a>
        </div>
        <company-review *ngFor="let review of reviews; let index = index" [review]="review">
        </company-review>
      </div>

      <app-write-review [user]="user" [company]="company" [submitted]="showForm"
                        (change)="updateReview($event)"></app-write-review>

    </div>
    <div class="col-md-6 map-fix" *ngIf="mapReady">
      <sebm-google-map [latitude]="location.lat" [longitude]="location.lng" [zoom]="12">
        <sebm-google-map-marker [latitude]="location.lat"
                                [longitude]="location.lng">
        </sebm-google-map-marker>
      </sebm-google-map>
    </div>
  </div>
</article>
